<tool id="vsearch_masking" name="VSearch" version="@VERSION@.0">
    <description>masking</description>
    <expand macro="requirements" />
    <expand macro="stdio" />
    <expand macro="version_command" />
    <macros>
        <import>vsearch_macros.xml</import>
    </macros>
    <command>
<![CDATA[
    vsearch
        @GENERAL@
        #if $qmask != 'no':
            --qmask $qmask
        #end if
        $hardmask
        --maskfasta "$infile"
        --output $outfile

]]>
    </command>
    <inputs>
        <param name="infile" type="data" format="fasta" label="Select your FASTA file" help="(--maskfasta)" />
        <expand macro="qmask" />
        <expand macro="hardmask" />
    </inputs>
    <outputs>
        <data name="outfile" format="fasta" label="${tool.name} on ${on_string}" />
    </outputs>
    <tests>
        <test>
            <param name="infile" value="db.fasta" ftype="fasta" />
            <param name="qmask" value="dust"/>
            <param name="hardmask" value="True"/>
            <output name="outfile" file="masking_result1.fasta" ftype="fasta" />
        </test>
        <test>
            <param name="infile" value="db.fasta" ftype="fasta" />
            <param name="qmask" value="soft"/>
            <param name="hardmask" value="True"/>
            <output name="outfile" file="masking_result2.fasta" ftype="fasta" />
        </test>
    </tests>
    <help>
<![CDATA[
**What it does**

General options
  --help                      display help information
  --version                   display version information
  --fasta_width INT           width of FASTA seq lines, 0 for no wrap (80)
  --maxseqlength INT          maximum sequence length (50000)
  --minseqlength INT          min seq length (clust/derep/search: 32, other:1)
  --notrunclabels             do not truncate labels at first space
  --threads INT               number of threads to use, zero for all cores (0)

Masking options
  --hardmask                  mask by replacing with N instead of lower case
  --maskfasta FILENAME        mask sequences in the given FASTA file
  --output FILENAME           output to specified FASTA file
  --qmask                     mask seqs with "dust", "soft" or "none" method (dust)

@EXTERNAL_DOCUMENTATION@

-------

@REFERENCES@


]]>
    </help>
</tool>
