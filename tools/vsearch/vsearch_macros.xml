<macros>
    <xml name="requirements">
        <requirements>
            <requirement type="package" version="1.0.7">vsearch</requirement>
        </requirements>
    </xml>
    <xml name="version_command">
        <version_command>vsearch --version | head -n 1 | awk '{print $2}' | sed 's/,//'</version_command>
    </xml>
    <xml name="stdio">
        <stdio>
            <exit_code range="1:" />
            <exit_code range=":-1" />
            <regex match="Error:" />
            <regex match="Exception:" />
        </stdio>
    </xml>

    <xml name="topn">
        <param name="topn" type="integer" value="" optional="True" label="Output just first n sequences"
            help="(--topn)"/>
    </xml>

    <xml name="maxaccepts">
        <param name="maxaccepts" type="integer" value="1" label="Number of hits to accept and show per strand"
            help="(--maxaccepts)"/>
    </xml>
    <xml name="maxrejects">
        <param name="maxrejects" type="integer" value="32" label="Number of non-matching hits to consider"
            help="(--maxrejects)"/>
    </xml>
    <xml name="qmask">
        <param name="qmask" type="select" label="Mask sequences" help="(--qmask)">
            <option value="no">No masking</option>
            <option value="dust" selected="True">dust</option>
            <option value="soft">soft</option>
        </param>
    </xml>

    <xml name="hardmask">
        <param name="hardmask" type="boolean" truevalue="--hardmask" falsevalue="" checked="False" 
            label="Mask by replacing with N instead of lower case" help="(--hardmask)"/>
    </xml>

    <xml name="id_and_iddef">
        <param name="iddef" type="select" label="ID definition" help="(--iddef)">
            <option value="0">CD-HIT</option>
            <option value="1">all</option>
            <option value="2" selected="True">int</option>
            <option value="3">MBL</option>
            <option value="4">BLAST</option>
        </param>
        <param name="id" type="float" value="" optional="True" label="Treshold"
            help="Reject if identity lower. (--id)"/>
    </xml>

    <xml name="self_and_selfid">
        <param name="self_param" type="boolean" truevalue="--self" falsevalue="" checked="False" 
            label="Exclude identical labels for --uchime_ref" help="(--self)"/>
        <param name="selfid_param" type="boolean" truevalue="--selfid" falsevalue="" checked="False" 
            label="Exclude identical sequences for --uchime_ref" help="(--selfid)"/>
    </xml>

    <xml name="strand">
        <param name="strand" type="select" label="Strand specific clustering" help="(--strand)">
            <option value="plus" selected="True">Plus strand</option>
            <option value="both">Both strands</option>
        </param>
    </xml>

    <xml name="sizein">
        <param name="sizein" type="boolean" truevalue="--sizein" falsevalue="" checked="False" 
            label="Read abundance annotation from input" help="(--sizein)"/>
    </xml>

    <xml name="sizeout">
        <param name="sizeout" type="boolean" truevalue="--sizeout" falsevalue="" checked="False" 
            label="Write cluster abundances to centroid file" help="(--sizeout)"/>
    </xml>

    <xml name="uclust_like_output">
        <param name="uc" type="boolean" truevalue="--uc" falsevalue="" checked="False" 
            label="UCLUST-like output" help="(--uc)"/>
    </xml>

    <token name="@GENERAL@">
        --threads "\${GALAXY_SLOTS:-4}"
        --notrunclabels
    </token>
    <token name="@VERSION@">1.0.7</token>
    <token name="@EXTERNAL_DOCUMENTATION@">

For details about this tool, please go to https://github.com/torognes/vsearch .

    </token>
    <token name="@REFRENCES@">
**References**

If you use this Galaxy tool in work leading to a scientific publication please
cite the following Bjoern A. Gruening.

    </token>
    <xml name="citations">
        <citations>
            <citation type="doi">10.3389/fgene.2012.00035</citation>
            <citation type="doi">10.4161/fly.19695</citation>
            <yield />
        </citations>
    </xml>
</macros>
