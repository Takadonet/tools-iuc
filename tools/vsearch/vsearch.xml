<tool id="vsearch" name="VSearch" version="@VERSION@.0">
    <description></description>
    <expand macro="requirements" />
    <expand macro="stdio" />
    <expand macro="version_command" />
    <macros>
        <import>vsearch_macros.xml</import>
    </macros>
    <command>
<![CDATA[
    vsearch

        @GENERAL@


]]>
    </command>
    <inputs>

    </inputs>
    <outputs>
        <data name="outfile" format="fasta" label="${tool.name} on ${on_string}" />
    </outputs>
    <tests>
    </tests>
    <help>
<![CDATA[
**What it does**

General options
  --help                      display help information
  --version                   display version information
  --fasta_width INT           width of FASTA seq lines, 0 for no wrap (80)
  --maxseqlength INT          maximum sequence length (50000)
  --minseqlength INT          min seq length (clust/derep/search: 32, other:1)
  --notrunclabels             do not truncate labels at first space
  --threads INT               number of threads to use, zero for all cores (0)

Chimera detection options
  --abskew REAL               min abundance ratio of parent vs chimera (2.0)
  --alignwidth INT            width of alignment in uchimealn output (80)
  --chimeras FILENAME         output chimeric sequences to file
  --db FILENAME               reference database for --uchime_ref
  --dn REAL                   'no' vote pseudo-count (1.4)
  --mindiffs INT              minimum number of differences in segment (3)
  --mindiv REAL               minimum divergence from closest parent (0.8)
  --minh REAL                 minimum score (0.28)
  --nonchimeras FILENAME      output non-chimeric sequences to file
  --self                      exclude identical labels for --uchime_ref
  --selfid                    exclude identical sequences for --uchime_ref
  --uchime_denovo FILENAME    detect chimeras de novo
  --uchime_ref FILENAME       detect chimeras using a reference database
  --uchimealns FILENAME       output chimera alignments to file
  --uchimeout FILENAME        output to chimera info to tab-separated file
  --uchimeout5                make output compatible with uchime version 5
  --xn REAL                   'no' vote weight (8.0)

Clustering options (most searching options also apply)
  --centroids FILENAME         output centroid sequences to FASTA file
  --cluster_fast FILENAME      cluster sequences fast
  --cluster_smallmem FILENAME  cluster sequences using a small amount of memory
  --clusters STRING            output each cluster to a separate FASTA file
  --consout FILENAME           output cluster consensus sequences to FASTA file
  --cons_truncate              do not ignore terminal gaps in MSA for consensus
  --id REAL                    reject if identity lower
  --iddef INT                  id definition, 0-4=CD-HIT,all,int,MBL,BLAST (2)
  --msaout FILENAME            output multiple seq. alignments to FASTA file 
  --qmask                      mask seqs with dust, soft or no method (dust)
  --sizein                     read abundance annotation from input
  --sizeout                    write cluster abundances to centroid file
  --strand                     cluster using "plus" or "both" strands (plus)
  --uc FILENAME                filename for UCLUST-like output
  --usersort                   indicate that input sequences are presorted

Dereplication options
  --derep_fulllength FILENAME  dereplicate sequences in the given FASTA file
  --maxuniquesize INT          maximum abundance for output from dereplication
  --minuniquesize INT          minimum abundance for output from dereplication
  --output FILENAME            output FASTA file
  --sizein                     read abundance annotation from input
  --sizeout                    write abundance annotation to output
  --strand                     dereplicate "plus" or "both" strands (plus)
  --topn INT                   output just the n most abundant sequences
  --uc FILENAME                filename for UCLUST-like output

Masking options
  --hardmask                  mask by replacing with N instead of lower case
  --maskfasta FILENAME        mask sequences in the given FASTA file
  --output FILENAME           output to specified FASTA file
  --qmask                     mask seqs with "dust", "soft" or "none" method (dust)

Searching options
  --alnout FILENAME           filename for human-readable alignment output
  --blast6out FILENAME        filename for blast-like tab-separated output
  --db FILENAME               filename for FASTA formatted database for search
  --dbmask                    mask db with "dust", "soft" or "none" method (dust)
  --dbmatched FILENAME        FASTA file for matching database sequences
  --dbnotmatched FILENAME     FASTA file for non-matching database sequences
  --fastapairs FILENAME       FASTA file with pairs of query and target
  --fulldp                    full dynamic programming alignment (always on)
  --gapext STRING             penalties for gap extension (2I/1E)
  --gapopen STRING            penalties for gap opening (20I/2E)
  --hardmask                  mask by replacing with N instead of lower case
  --id REAL                   reject if identity lower
  --iddef INT                 id definition, 0-4=CD-HIT,all,int,MBL,BLAST (2)
  --idprefix INT              reject if first n nucleotides do not match
  --idsuffix INT              reject if last n nucleotides do not match
  --leftjust                  reject if terminal gaps at alignment left end
  --match INT                 score for match (2)
  --matched FILENAME          FASTA file for matching query sequences
  --maxaccepts INT            number of hits to accept and show per strand (1)
  --maxdiffs INT              reject if more substitutions or indels
  --maxgaps INT               reject if more indels
  --maxhits INT               maximum number of hits to show (unlimited)
  --maxid REAL                reject if identity higher
  --maxqsize INT              reject if query abundance larger
  --maxqt REAL                reject if query/target length ratio higher
  --maxrejects INT            number of non-matching hits to consider (32)
  --maxsizeratio REAL         reject if query/target abundance ratio higher
  --maxsl REAL                reject if shorter/longer length ratio higher
  --maxsubs INT               reject if more substitutions
  --mid REAL                  reject if percent identity lower, ignoring gaps
  --mincols INT               reject if alignment length shorter
  --minqt REAL                reject if query/target length ratio lower
  --minsizeratio REAL         reject if query/target abundance ratio lower
  --minsl REAL                reject if shorter/longer length ratio lower
  --mintsize INT              reject if target abundance lower
  --mismatch INT              score for mismatch (-4)
  --notmatched FILENAME       FASTA file for non-matching query sequences
  --output_no_hits            output non-matching queries to output files
  --qmask                     mask query with "dust", "soft" or "none" method (dust)
  --query_cov REAL            reject if fraction of query seq. aligned lower
  --rightjust                 reject if terminal gaps at alignment right end
  --rowlen INT                width of alignment lines in alnout output (64)
  --self                      reject if labels identical
  --selfid                    reject if sequences identical
  --sizeout                   write abundance annotation to output
  --strand                    search "plus" or "both" strands (plus)
  --target_cov REAL           reject if fraction of target seq. aligned lower
  --top_hits_only             output only hits with identity equal to the best
  --uc FILENAME               filename for UCLUST-like output
  --uc_allhits                show all, not just top hit with uc output
  --usearch_global FILENAME   filename of queries for global alignment search
  --userfields STRING         fields to output in userout file
  --userout FILENAME          filename for user-defined tab-separated output
  --weak_id REAL              include aligned hits with >= id; continue search
  --wordlength INT            length of words for database index 3-15 (8)

Shuffling options
  --output FILENAME           output to specified FASTA file
  --seed INT                  seed for PRNG, zero to use random data source (0)
  --shuffle FILENAME          shuffle order of sequences pseudo-randomly
  --topn INT                  output just first n sequences

Sorting options
  --maxsize INT               maximum abundance for sortbysize
  --minsize INT               minimum abundance for sortbysize
  --output FILENAME           output FASTA file
  --relabel STRING            relabel with this prefix string after sorting
  --sizeout                   add abundance annotation to output
  --sortbylength FILENAME     sort sequences by length in given FASTA file
  --sortbysize FILENAME       abundance sort sequences in given FASTA file
  --topn INT                  output just top n seqs after sorting



@EXTERNAL_DOCUMENTATION@

-------

@REFERENCES@


]]>
    </help>
</tool>
